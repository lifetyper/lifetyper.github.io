<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>LifeTyper</title><link href="/" rel="alternate"></link><link href="atom.xml" rel="self"></link><id>/</id><updated>2018-10-18T16:55:00+08:00</updated><entry><title>How to run a remote node for DERO wallet</title><link href="posts/run_remote_node_for_dero_wallet.html" rel="alternate"></link><published>2018-10-18T16:55:00+08:00</published><updated>2018-10-18T16:55:00+08:00</updated><author><name>lifetyper</name></author><id>tag:None,2018-10-18:posts/run_remote_node_for_dero_wallet.html</id><summary type="html">&lt;p&gt;One of the dero wallet's greatest feature is remote node function,which allows you to sync and use your DERO wallet without sync the whole blockchain.&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Why do you need a remote node?&lt;/h2&gt;
&lt;p&gt;One of the dero wallet's greatest feature is remote node function,which allows you to sync and use your DERO wallet without sync the whole blockchain.Currently there is only one public node is run by dero Official(https://rwallet.dero.live:443).&lt;/p&gt;
&lt;p&gt;But a centralized server can crash or the network latency may too large for you due to different network condition, or even worse,you don't trust anyone else except yourself, you might want to run your own remote node for your wallet.&lt;/p&gt;
&lt;h2&gt;What do you need for a remote node&lt;/h2&gt;
&lt;p&gt;Here below is what you will need for running a remote node:
&lt;em&gt; A VPS with public IPV4 address, running ubuntu or debian 
&lt;/em&gt; A domain for SSL certificate
* Done
Then you can create your remote node following below step.&lt;/p&gt;
&lt;h2&gt;Setup your domain&lt;/h2&gt;
&lt;p&gt;This step is simple, just point your domain to your VPS's IP address,blabla...If any trouble with this part, ask your domain registar for help.&lt;/p&gt;
&lt;h2&gt;Install Nginx&lt;/h2&gt;
&lt;p&gt;Nginx is a famous http server which can also works a web proxy, here we use nginx to proxy dero daemon's default rpc service from port 127.0.0.1:20206 to 0.0.0.0:443(port for https web) and expose to public.
Install nginx is easy on ubuntu, install with root account is ok, but don't run it under root account.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get update
apt-get install nginx
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Fetch SSL certificate for your domain&lt;/h2&gt;
&lt;p&gt;We have let's encrypt for free SSL certificate, to obtain SSL certificate easyliy we shall install &lt;a href="https://certbot.eff.org/"&gt;certbot&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get update
apt-get install software-properties-common
add-apt-repository ppa:certbot/certbot
apt-get update
apt-get install python-certbot-nginx 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;After installation, run below command to get the ssl certificate
&lt;code&gt;certbot certonly&lt;/code&gt;
Just follow the instruction and enter needed info, and when it comes to this step:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;How would you like to authenticate with the ACME CA?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
1: Nginx Web Server plugin - Alpha (nginx)
2: Spin up a temporary webserver (standalone)
3: Place files in webroot directory (webroot)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Just type "1" to use nginx web plugin for domain verify.
After certificate done, take rwallet.dero.cash for example you shall see below message telling you where is your certification and chain stored&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;- Congratulations! Your certificate and chain have been saved at:
   /etc/letsencrypt/live/rwallet.dero.cash/fullchain.pem
   Your key file has been saved at:
   /etc/letsencrypt/live/rwallet.dero.cash/privkey.pem
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note down these two paths, we will use them later.&lt;/p&gt;
&lt;h2&gt;Setup Nginx as DERO RPC service proxy&lt;/h2&gt;
&lt;p&gt;Still take rwallet.dero.cash for example, let's create a config file for this proxy in "/etc/nginx/conf.d" and edit it with VIM:
&lt;code&gt;touch rwallet.conf
vi rwallet.conf&lt;/code&gt;
Then paste below content in rwallet.conf:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="err"&gt;listen&lt;/span&gt;          &lt;span class="err"&gt;80&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;server_name&lt;/span&gt;     &lt;span class="err"&gt;rwallet.dero.cash&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;rewrite&lt;/span&gt; &lt;span class="err"&gt;^/(.*)&lt;/span&gt;  &lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;rwallet&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dero&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cash&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="n"&gt;permanent&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="nt"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="err"&gt;listen&lt;/span&gt;          &lt;span class="err"&gt;443&lt;/span&gt; &lt;span class="err"&gt;ssl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;server_name&lt;/span&gt;     &lt;span class="err"&gt;rwallet.dero.cash&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;access_log&lt;/span&gt;      &lt;span class="err"&gt;/var/log/nginx/rwalelt_access.log&lt;/span&gt; &lt;span class="err"&gt;combined&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;error_log&lt;/span&gt;       &lt;span class="err"&gt;/var/log/nginx/rwallet_erro.log&lt;/span&gt; &lt;span class="err"&gt;error&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="err"&gt;ssl_certificate&lt;/span&gt; &lt;span class="err"&gt;/etc/letsencrypt/live/rwallet.dero.cash/fullchain.pem&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;ssl_certificate_key&lt;/span&gt; &lt;span class="err"&gt;/etc/letsencrypt/live/rwallet.dero.cash/privkey.pem&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;


    &lt;span class="err"&gt;location&lt;/span&gt; &lt;span class="err"&gt;/&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
        &lt;span class="err"&gt;proxy_pass&lt;/span&gt;         &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;localhost&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;20206&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="err"&gt;proxy_redirect&lt;/span&gt;     &lt;span class="err"&gt;off&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="err"&gt;proxy_set_header&lt;/span&gt;   &lt;span class="err"&gt;Host&lt;/span&gt;              &lt;span class="err"&gt;$http_host&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="err"&gt;proxy_set_header&lt;/span&gt;   &lt;span class="err"&gt;X-Real-IP&lt;/span&gt;         &lt;span class="err"&gt;$remote_addr&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="err"&gt;proxy_set_header&lt;/span&gt;   &lt;span class="err"&gt;X-Forwarded-For&lt;/span&gt;   &lt;span class="err"&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Remember to replace rwallet.dero.cash with your own domain, and set the correct path for your ssl certificate and chain, then restart nginx service:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;/etc/init.d/nginx restart
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now let's visit &lt;a href="https://rwallet.dero.cash"&gt;https://rwallet.dero.cash&lt;/a&gt; you should see a "502 bad gateway" error.This means nginx is working as expected, the only problem is you haven't run dero daemon at port 20206 yet.&lt;/p&gt;
&lt;h2&gt;Run dero daemon&lt;/h2&gt;
&lt;h3&gt;install dero daemon&lt;/h3&gt;
&lt;p&gt;First let's go to &lt;a href="https://github.com/deroproject/derosuite/releases/latest"&gt;dero official github&lt;/a&gt; to download the latest binaries for dero daemon.
Since we're using ubuntu 16.04 64bit as our VPS os here, we should download linux_amd64 version, extract the tarball and copy the binaries to "/usr/local/bin" folder to make it global available.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wget https://github.com/deroproject/derosuite/releases/download/v2.1.5/dero_linux_amd64_2.1.5-0.alpha.atlantis.10102018.tar.gz
tar xf dero_linux_amd64_2.1.5-0.alpha.atlantis.10102018.tar.gz
cp dero_linux_amd64/* /usr/local/bin
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Create data folder for dero&lt;/h3&gt;
&lt;p&gt;Let's make a folder for dero to store the chain data:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir /root/.dero
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;using name like ".dero" with a dot in the front will make the folder default hidden for 'ls' command and avoid stupid "rm -rf" command delete it.&lt;/p&gt;
&lt;h3&gt;Run dero daemon&lt;/h3&gt;
&lt;p&gt;Since we create a folder(/root/.dero) for blockchain data store, we should use this folder as data-dir every time we run dero daemon.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;derod-linux-amd64 --data-dir=/root/.dero
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;After this command you should see dero command line daemon start and a folder named "mainnet" created under "/root/.dero" folder.
This time when you visit https://rwallet.dero.cash, browser should return a "Hello world!" message, which means everything is done.&lt;/p&gt;
&lt;h3&gt;Make dero daemon autostart and run in background&lt;/h3&gt;
&lt;p&gt;Dero daemon is an interactive command line program, the most easy way to run it in background is using screen command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;screen -d -m derod-linux-amd64 --data-dir=/root/.dero
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now a new sub-shell has been created and dero daemon running in it, if you want to check the staus of this sub-shell, just type:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;screen -r
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;if there're more than one sub-shell running on your server, you might need to use &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;screen -ls
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;to list all running sub-shell and determine which one to enter.
if you want to leave the sub-shell, don't use ctrl+c which will end the daemon, use key "ctrl+a+d" and you shall return to main shell.&lt;/p&gt;
&lt;p&gt;To make the daemon auto start when we restart the server, place the command we run daemon in file "/etc/rc.local", edit this file so finally it may looks like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# rc.local
#
# This script is executed at the end of each multiuser runlevel.
# Make sure that the script will &amp;quot;exit 0&amp;quot; on success or any other
# value on error.
#
# In order to enable or disable this script just change the execution
# bits.
#
# By default this script does nothing.

/usr/bin/screen -d -m /usr/local/bin/derod-linux-amd64 --data-dir=/root/.dero

exit 0
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note that this time we shall use full path for both screen and dero daemon.Restart the server and check https://rwallet.dero.cash to see if it works.&lt;/p&gt;
&lt;h2&gt;Using remote node&lt;/h2&gt;
&lt;p&gt;Currently dero GUI wallet doesn't support customized remote node, but we can use it for command line wallet, by using option --data-dir.&lt;/p&gt;
&lt;p&gt;Full command to use the remote node we just set up under mac os is:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dero-wallet-cli-darwin-amd64 --daemon-address=https://rwallet.dero.cash
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If your node is full synced, your wallet should be ready for use now.&lt;/p&gt;</content></entry><entry><title>How to run a remote node for DERO wallet</title><link href="posts/run_remote_node_for_dero_wallet.html" rel="alternate"></link><published>2018-10-18T16:55:00+08:00</published><updated>2018-10-18T16:55:00+08:00</updated><author><name>lifetyper</name></author><id>tag:None,2018-10-18:posts/run_remote_node_for_dero_wallet.html</id><summary type="html">&lt;p&gt;One of the dero wallet's greatest feature is remote node function,which allows you to sync and use your DERO wallet without sync the whole blockchain.&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Why do you need a remote node?&lt;/h2&gt;
&lt;p&gt;One of the dero wallet's greatest feature is remote node function,which allows you to sync and use your DERO wallet without sync the whole blockchain.Currently there is only one public node is run by dero Official(https://rwallet.dero.live:443).&lt;/p&gt;
&lt;p&gt;But a centralized server can crash or the network latency may too large for you due to different network condition, or even worse,you don't trust anyone else except yourself, you might want to run your own remote node for your wallet.&lt;/p&gt;
&lt;h2&gt;What do you need for a remote node&lt;/h2&gt;
&lt;p&gt;Here below is what you will need for running a remote node:
&lt;em&gt; A VPS with public IPV4 address, running ubuntu or debian 
&lt;/em&gt; A domain for SSL certificate
* Done
Then you can create your remote node following below step.&lt;/p&gt;
&lt;h2&gt;Setup your domain&lt;/h2&gt;
&lt;p&gt;This step is simple, just point your domain to your VPS's IP address,blabla...If any trouble with this part, ask your domain registar for help.&lt;/p&gt;
&lt;h2&gt;Install Nginx&lt;/h2&gt;
&lt;p&gt;Nginx is a famous http server which can also works a web proxy, here we use nginx to proxy dero daemon's default rpc service from port 127.0.0.1:20206 to 0.0.0.0:443(port for https web) and expose to public.
Install nginx is easy on ubuntu, install with root account is ok, but don't run it under root account.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get update
apt-get install nginx
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Fetch SSL certificate for your domain&lt;/h2&gt;
&lt;p&gt;We have let's encrypt for free SSL certificate, to obtain SSL certificate easyliy we shall install &lt;a href="https://certbot.eff.org/"&gt;certbot&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get update
apt-get install software-properties-common
add-apt-repository ppa:certbot/certbot
apt-get update
apt-get install python-certbot-nginx 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;After installation, run below command to get the ssl certificate
&lt;code&gt;certbot certonly&lt;/code&gt;
Just follow the instruction and enter needed info, and when it comes to this step:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;How would you like to authenticate with the ACME CA?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
1: Nginx Web Server plugin - Alpha (nginx)
2: Spin up a temporary webserver (standalone)
3: Place files in webroot directory (webroot)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Just type "1" to use nginx web plugin for domain verify.
After certificate done, take rwallet.dero.cash for example you shall see below message telling you where is your certification and chain stored&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;- Congratulations! Your certificate and chain have been saved at:
   /etc/letsencrypt/live/rwallet.dero.cash/fullchain.pem
   Your key file has been saved at:
   /etc/letsencrypt/live/rwallet.dero.cash/privkey.pem
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note down these two paths, we will use them later.&lt;/p&gt;
&lt;h2&gt;Setup Nginx as DERO rpc service proxy&lt;/h2&gt;
&lt;p&gt;Still take rwallet.dero.cash for example, let's create a config file for this proxy in "/etc/nginx/conf.d" and edit it with VIM:
&lt;code&gt;touch rwallet.conf
vi rwallet.conf&lt;/code&gt;
Then paste below content in rwallet.conf:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="err"&gt;listen&lt;/span&gt;          &lt;span class="err"&gt;80&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;server_name&lt;/span&gt;     &lt;span class="err"&gt;rwallet.dero.cash&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;rewrite&lt;/span&gt; &lt;span class="err"&gt;^/(.*)&lt;/span&gt;  &lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;rwallet&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dero&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cash&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="n"&gt;permanent&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="nt"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="err"&gt;listen&lt;/span&gt;          &lt;span class="err"&gt;443&lt;/span&gt; &lt;span class="err"&gt;ssl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;server_name&lt;/span&gt;     &lt;span class="err"&gt;rwallet.dero.cash&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;access_log&lt;/span&gt;      &lt;span class="err"&gt;/var/log/nginx/rwalelt_access.log&lt;/span&gt; &lt;span class="err"&gt;combined&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;error_log&lt;/span&gt;       &lt;span class="err"&gt;/var/log/nginx/rwallet_erro.log&lt;/span&gt; &lt;span class="err"&gt;error&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="err"&gt;ssl_certificate&lt;/span&gt; &lt;span class="err"&gt;/etc/letsencrypt/live/rwallet.dero.cash/fullchain.pem&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;ssl_certificate_key&lt;/span&gt; &lt;span class="err"&gt;/etc/letsencrypt/live/rwallet.dero.cash/privkey.pem&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;


    &lt;span class="err"&gt;location&lt;/span&gt; &lt;span class="err"&gt;/&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
        &lt;span class="err"&gt;proxy_pass&lt;/span&gt;         &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;localhost&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;20206&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="err"&gt;proxy_redirect&lt;/span&gt;     &lt;span class="err"&gt;off&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="err"&gt;proxy_set_header&lt;/span&gt;   &lt;span class="err"&gt;Host&lt;/span&gt;              &lt;span class="err"&gt;$http_host&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="err"&gt;proxy_set_header&lt;/span&gt;   &lt;span class="err"&gt;X-Real-IP&lt;/span&gt;         &lt;span class="err"&gt;$remote_addr&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="err"&gt;proxy_set_header&lt;/span&gt;   &lt;span class="err"&gt;X-Forwarded-For&lt;/span&gt;   &lt;span class="err"&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Remember to replace rwallet.dero.cash with your own domain, and set the correct path for your ssl certificate and chain, then restart nginx service:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;/etc/init.d/nginx restart
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now let's visit &lt;a href="https://rwallet.dero.cash"&gt;https://rwallet.dero.cash&lt;/a&gt; you should see a "502 bad gateway" error.This means nginx is working as expected, the only problem is you haven't run dero daemon at port 20206 yet.&lt;/p&gt;
&lt;h2&gt;Run dero daemon&lt;/h2&gt;
&lt;h3&gt;install dero daemon&lt;/h3&gt;
&lt;p&gt;First let's go to &lt;a href="https://github.com/deroproject/derosuite/releases/latest"&gt;dero official github&lt;/a&gt; to download the latest binaries for dero daemon.
Since we're using ubuntu 16.04 64bit as our VPS os here, we should download linux_amd64 version, extract the tarball and copy the binaries to "/usr/local/bin" folder to make it global available.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wget https://github.com/deroproject/derosuite/releases/download/v2.1.5/dero_linux_amd64_2.1.5-0.alpha.atlantis.10102018.tar.gz
tar xf dero_linux_amd64_2.1.5-0.alpha.atlantis.10102018.tar.gz
cp dero_linux_amd64/* /usr/local/bin
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Create data folder for dero&lt;/h3&gt;
&lt;p&gt;Let's make a folder for dero to store the chain data:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir /root/.dero
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;using name like ".dero" with a dot in the front will make the folder default hidden for 'ls' command and avoid stupid "rm -rf" command delete it.&lt;/p&gt;
&lt;h3&gt;Run dero daemon&lt;/h3&gt;
&lt;p&gt;Since we create a folder(/root/.dero) for blockchain data store, we should use this folder as data-dir every time we run dero daemon.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;derod-linux-amd64 --data-dir=/root/.dero
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;After this command you should see dero command line daemon start and a folder named "mainnet" created under "/root/.dero" folder.
This time when you visit https://rwallet.dero.cash, browser should return a "Hello world!" message, which means everything is done.&lt;/p&gt;
&lt;h3&gt;Make dero daemon autostart and run in background&lt;/h3&gt;
&lt;p&gt;Dero daemon is an interactive command line program, the most easy way to run it in background is using screen command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;screen -d -m derod-linux-amd64 --data-dir=/root/.dero
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now a new sub-shell has been created and dero daemon running in it, if you want to check the staus of this sub-shell, just type:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;screen -r
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;if there're more than one sub-shell running on your server, you might need to use &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;screen -ls
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;to list all running sub-shell and determine which one to enter.
if you want to leave the sub-shell, don't use ctrl+c which will end the daemon, use key "ctrl+a+d" and you shall return to main shell.&lt;/p&gt;
&lt;p&gt;To make the daemon auto start when we restart the server, place the command we run daemon in file "/etc/rc.local", edit this file so finally it may looks like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# rc.local
#
# This script is executed at the end of each multiuser runlevel.
# Make sure that the script will &amp;quot;exit 0&amp;quot; on success or any other
# value on error.
#
# In order to enable or disable this script just change the execution
# bits.
#
# By default this script does nothing.

/usr/bin/screen -d -m /usr/local/bin/derod-linux-amd64 --data-dir=/root/.dero

exit 0
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note that this time we shall use full path for both screen and dero daemon.Restart the server and check https://rwallet.dero.cash to see if it works.&lt;/p&gt;
&lt;h2&gt;Using remote node&lt;/h2&gt;
&lt;p&gt;Currently dero GUI wallet doesn't support customized remote node, but we can use it for command line wallet, by using option --data-dir.&lt;/p&gt;
&lt;p&gt;Full command to use the remote node we just set up under mac os is:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dero-wallet-cli-darwin-amd64 --daemon-address=https://rwallet.dero.cash
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If your node is full synced, your wallet should be ready for use now.&lt;/p&gt;</content></entry><entry><title>How to run a remote node for DERO wallet</title><link href="posts/run_remote_node_for_dero_wallet.html" rel="alternate"></link><published>2018-10-18T16:55:00+08:00</published><updated>2018-10-18T16:55:00+08:00</updated><author><name>lifetyper</name></author><id>tag:None,2018-10-18:posts/run_remote_node_for_dero_wallet.html</id><summary type="html">&lt;p&gt;One of the dero wallet's greatest feature is remote node function,which allows you to sync and use your DERO wallet without sync the whole blockchain.&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Why do you need a remote node?&lt;/h2&gt;
&lt;p&gt;One of the dero wallet's greatest feature is remote node function,which allows you to sync and use your DERO wallet without sync the whole blockchain.Currently there is only one public node is run by dero Official(https://rwallet.dero.live:443).&lt;/p&gt;
&lt;p&gt;But a centralized server can crash or the network latency may too large for you due to different network condition, or even worse,you don't trust anyone else except yourself, you might want to run your own remote node for your wallet.&lt;/p&gt;
&lt;h2&gt;What do you need for a remote node&lt;/h2&gt;
&lt;p&gt;Here below is what you will need for running a remote node:
&lt;em&gt; A VPS with public IPV4 address, running ubuntu or debian 
&lt;/em&gt; A domain for SSL certificate
* Done
Then you can create your remote node following below step.&lt;/p&gt;
&lt;h2&gt;Setup your domain&lt;/h2&gt;
&lt;p&gt;This step is simple, just point your domain to your VPS's IP address,blabla...If any trouble with this part, ask your domain registar for help.&lt;/p&gt;
&lt;h2&gt;Install Nginx&lt;/h2&gt;
&lt;p&gt;Nginx is a famous http server which can also works a web proxy, here we use nginx to proxy dero daemon's default rpc service from port 127.0.0.1:20206 to 0.0.0.0:443(port for https web) and expose to public.
Install nginx is easy on ubuntu, install with root account is ok, but don't run it under root account.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get update
apt-get install nginx
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Fetch SSL certificate for your domain&lt;/h2&gt;
&lt;p&gt;We have let's encrypt for free SSL certificate, to obtain SSL certificate easyliy we shall install &lt;a href="https://certbot.eff.org/"&gt;certbot&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get update
apt-get install software-properties-common
add-apt-repository ppa:certbot/certbot
apt-get update
apt-get install python-certbot-nginx 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;After installation, run below command to get the ssl certificate
&lt;code&gt;certbot certonly&lt;/code&gt;
Just follow the instruction and enter needed info, and when it comes to this step:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;How would you like to authenticate with the ACME CA?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
1: Nginx Web Server plugin - Alpha (nginx)
2: Spin up a temporary webserver (standalone)
3: Place files in webroot directory (webroot)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Just type "1" to use nginx web plugin for domain verify.
After certificate done, take rwallet.dero.cash for example you shall see below message telling you where is your certification and chain stored&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;- Congratulations! Your certificate and chain have been saved at:
   /etc/letsencrypt/live/rwallet.dero.cash/fullchain.pem
   Your key file has been saved at:
   /etc/letsencrypt/live/rwallet.dero.cash/privkey.pem
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note down these two paths, we will use them later.&lt;/p&gt;
&lt;h2&gt;Setup Nginx as DERO rpc service proxy&lt;/h2&gt;
&lt;p&gt;Still take rwallet.dero.cash for example, let's create a config file for this proxy in "/etc/nginx/conf.d" and edit it with VIM:
&lt;code&gt;touch rwallet.conf
vi rwallet.conf&lt;/code&gt;
Then paste below content in rwallet.conf:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="err"&gt;listen&lt;/span&gt;          &lt;span class="err"&gt;80&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;server_name&lt;/span&gt;     &lt;span class="err"&gt;rwallet.dero.cash&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;rewrite&lt;/span&gt; &lt;span class="err"&gt;^/(.*)&lt;/span&gt;  &lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;rwallet&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dero&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cash&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="n"&gt;permanent&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="nt"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="err"&gt;listen&lt;/span&gt;          &lt;span class="err"&gt;443&lt;/span&gt; &lt;span class="err"&gt;ssl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;server_name&lt;/span&gt;     &lt;span class="err"&gt;rwallet.dero.cash&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;access_log&lt;/span&gt;      &lt;span class="err"&gt;/var/log/nginx/rwalelt_access.log&lt;/span&gt; &lt;span class="err"&gt;combined&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;error_log&lt;/span&gt;       &lt;span class="err"&gt;/var/log/nginx/rwallet_erro.log&lt;/span&gt; &lt;span class="err"&gt;error&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="err"&gt;ssl_certificate&lt;/span&gt; &lt;span class="err"&gt;/etc/letsencrypt/live/rwallet.dero.cash/fullchain.pem&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;ssl_certificate_key&lt;/span&gt; &lt;span class="err"&gt;/etc/letsencrypt/live/rwallet.dero.cash/privkey.pem&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;


    &lt;span class="err"&gt;location&lt;/span&gt; &lt;span class="err"&gt;/&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
        &lt;span class="err"&gt;proxy_pass&lt;/span&gt;         &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;localhost&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;20206&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="err"&gt;proxy_redirect&lt;/span&gt;     &lt;span class="err"&gt;off&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="err"&gt;proxy_set_header&lt;/span&gt;   &lt;span class="err"&gt;Host&lt;/span&gt;              &lt;span class="err"&gt;$http_host&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="err"&gt;proxy_set_header&lt;/span&gt;   &lt;span class="err"&gt;X-Real-IP&lt;/span&gt;         &lt;span class="err"&gt;$remote_addr&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="err"&gt;proxy_set_header&lt;/span&gt;   &lt;span class="err"&gt;X-Forwarded-For&lt;/span&gt;   &lt;span class="err"&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Remember to replace rwallet.dero.cash with your own domain, and set the correct path for your ssl certificate and chain, then restart nginx service:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;/etc/init.d/nginx restart
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now let's visit &lt;a href="https://rwallet.dero.cash"&gt;https://rwallet.dero.cash&lt;/a&gt; you should see a "502 bad gateway" error.This means nginx is working as expected, the only problem is you haven't run dero daemon at port 20206 yet.&lt;/p&gt;
&lt;h2&gt;Run dero daemon&lt;/h2&gt;
&lt;h3&gt;install dero daemon&lt;/h3&gt;
&lt;p&gt;First let's go to &lt;a href="https://github.com/deroproject/derosuite/releases/latest"&gt;dero official github&lt;/a&gt; to download the latest binaries for dero daemon.
Since we're using ubuntu 16.04 64bit as our VPS os here, we should download linux_amd64 version, extract the tarball and copy the binaries to "/usr/local/bin" folder to make it global available.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wget https://github.com/deroproject/derosuite/releases/download/v2.1.5/dero_linux_amd64_2.1.5-0.alpha.atlantis.10102018.tar.gz
tar xf dero_linux_amd64_2.1.5-0.alpha.atlantis.10102018.tar.gz
cp dero_linux_amd64/* /usr/local/bin
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Create data folder for dero&lt;/h3&gt;
&lt;p&gt;Let's make a folder for dero to store the chain data:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir /root/.dero
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;using name like ".dero" with a dot in the front will make the folder default hidden for 'ls' command and avoid stupid "rm -rf" command delete it.&lt;/p&gt;
&lt;h3&gt;Run dero daemon&lt;/h3&gt;
&lt;p&gt;Since we create a folder(/root/.dero) for blockchain data store, we should use this folder as data-dir every time we run dero daemon.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;derod-linux-amd64 --data-dir=/root/.dero
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;After this command you should see dero command line daemon start and a folder named "mainnet" created under "/root/.dero" folder.
This time when you visit https://rwallet.dero.cash, browser should return a "Hello world!" message, which means everything is done.&lt;/p&gt;
&lt;h3&gt;Make dero daemon autostart and run in background&lt;/h3&gt;
&lt;p&gt;Dero daemon is an interactive command line program, the most easy way to run it in background is using screen command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;screen -d -m derod-linux-amd64 --data-dir=/root/.dero
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now a new sub-shell has been created and dero daemon running in it, if you want to check the staus of this sub-shell, just type:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;screen -r
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;if there're more than one sub-shell running on your server, you might need to use &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;screen -ls
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;to list all running sub-shell and determine which one to enter.
if you want to leave the sub-shell, don't use ctrl+c which will end the daemon, use key "ctrl+a+d" and you shall return to main shell.&lt;/p&gt;
&lt;p&gt;To make the daemon auto start when we restart the server, place the command we run daemon in file "/etc/rc.local", edit this file so finally it may looks like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# rc.local
#
# This script is executed at the end of each multiuser runlevel.
# Make sure that the script will &amp;quot;exit 0&amp;quot; on success or any other
# value on error.
#
# In order to enable or disable this script just change the execution
# bits.
#
# By default this script does nothing.

/usr/bin/screen -d -m /usr/local/bin/derod-linux-amd64 --data-dir=/root/.dero

exit 0
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note that this time we shall use full path for both screen and dero daemon.Restart the server and check https://rwallet.dero.cash to see if it works.&lt;/p&gt;
&lt;h2&gt;Using remote node&lt;/h2&gt;
&lt;p&gt;Currently dero GUI wallet doesn't support customized remote node, but we can use it for command line wallet, by using option --data-dir.&lt;/p&gt;
&lt;p&gt;Full command to use the remote node we just set up under mac os is:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dero-wallet-cli-darwin-amd64 --daemon-address=https://rwallet.dero.cash
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If your node is full synced, your wallet should be ready for use now.&lt;/p&gt;</content></entry><entry><title>How to run a remote node for DERO wallet</title><link href="posts/run_remote_node_for_dero_wallet.html" rel="alternate"></link><published>2018-10-18T16:55:00+08:00</published><updated>2018-10-18T16:55:00+08:00</updated><author><name>lifetyper</name></author><id>tag:None,2018-10-18:posts/run_remote_node_for_dero_wallet.html</id><summary type="html">&lt;p&gt;One of the dero wallet's greatest feature is remote node function,which allows you to sync and use your DERO wallet without sync the whole blockchain.&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Why do you need a remote node?&lt;/h2&gt;
&lt;p&gt;One of the dero wallet's greatest feature is remote node function,which allows you to sync and use your DERO wallet without sync the whole blockchain.Currently there is only one public node is run by dero Official(https://rwallet.dero.live:443).&lt;/p&gt;
&lt;p&gt;But a centralized server can crash or the network latency may too large for you due to different network condition, or even worse,you don't trust anyone else except yourself, you might want to run your own remote node for your wallet.&lt;/p&gt;
&lt;h2&gt;What do you need for a remote node&lt;/h2&gt;
&lt;p&gt;Here below is what you will need for running a remote node:
&lt;em&gt; A VPS with public IPV4 address, running ubuntu or debian 
&lt;/em&gt; A domain for SSL certificate
* Done
Then you can create your remote node following below step.&lt;/p&gt;
&lt;h2&gt;Setup your domain&lt;/h2&gt;
&lt;p&gt;This step is simple, just point your domain to your VPS's IP address,blabla...If any trouble with this part, ask your domain registar for help.&lt;/p&gt;
&lt;h2&gt;Install Nginx&lt;/h2&gt;
&lt;p&gt;Nginx is a famous http server which can also works a web proxy, here we use nginx to proxy dero daemon's default rpc service from port 127.0.0.1:20206 to 0.0.0.0:443(port for https web) and expose to public.
Install nginx is easy on ubuntu, install with root account is ok, but don't run it under root account.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get update
apt-get install nginx
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Fetch SSL certificate for your domain&lt;/h2&gt;
&lt;p&gt;We have let's encrypt for free SSL certificate, to obtain SSL certificate easyliy we shall install &lt;a href="https://certbot.eff.org/"&gt;certbot&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get update
apt-get install software-properties-common
add-apt-repository ppa:certbot/certbot
apt-get update
apt-get install python-certbot-nginx 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;After installation, run below command to get the ssl certificate
&lt;code&gt;certbot certonly&lt;/code&gt;
Just follow the instruction and enter needed info, and when it comes to this step:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;How would you like to authenticate with the ACME CA?
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
1: Nginx Web Server plugin - Alpha (nginx)
2: Spin up a temporary webserver (standalone)
3: Place files in webroot directory (webroot)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Just type "1" to use nginx web plugin for domain verify.
After certificate done, take rwallet.dero.cash for example you shall see below message telling you where is your certification and chain stored&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;- Congratulations! Your certificate and chain have been saved at:
   /etc/letsencrypt/live/rwallet.dero.cash/fullchain.pem
   Your key file has been saved at:
   /etc/letsencrypt/live/rwallet.dero.cash/privkey.pem
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note down these two paths, we will use them later.&lt;/p&gt;
&lt;h2&gt;Setup Nginx as DERO RPC service proxy&lt;/h2&gt;
&lt;p&gt;Still take rwallet.dero.cash for example, let's create a config file for this proxy in "/etc/nginx/conf.d" and edit it with VIM:
&lt;code&gt;touch rwallet.conf
vi rwallet.conf&lt;/code&gt;
Then paste below content in rwallet.conf:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="err"&gt;listen&lt;/span&gt;          &lt;span class="err"&gt;80&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;server_name&lt;/span&gt;     &lt;span class="err"&gt;rwallet.dero.cash&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;rewrite&lt;/span&gt; &lt;span class="err"&gt;^/(.*)&lt;/span&gt;  &lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;rwallet&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dero&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cash&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="n"&gt;permanent&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="nt"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="err"&gt;listen&lt;/span&gt;          &lt;span class="err"&gt;443&lt;/span&gt; &lt;span class="err"&gt;ssl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;server_name&lt;/span&gt;     &lt;span class="err"&gt;rwallet.dero.cash&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;access_log&lt;/span&gt;      &lt;span class="err"&gt;/var/log/nginx/rwalelt_access.log&lt;/span&gt; &lt;span class="err"&gt;combined&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;error_log&lt;/span&gt;       &lt;span class="err"&gt;/var/log/nginx/rwallet_erro.log&lt;/span&gt; &lt;span class="err"&gt;error&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="err"&gt;ssl_certificate&lt;/span&gt; &lt;span class="err"&gt;/etc/letsencrypt/live/rwallet.dero.cash/fullchain.pem&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="err"&gt;ssl_certificate_key&lt;/span&gt; &lt;span class="err"&gt;/etc/letsencrypt/live/rwallet.dero.cash/privkey.pem&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;


    &lt;span class="err"&gt;location&lt;/span&gt; &lt;span class="err"&gt;/&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
        &lt;span class="err"&gt;proxy_pass&lt;/span&gt;         &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;localhost&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;20206&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="err"&gt;proxy_redirect&lt;/span&gt;     &lt;span class="err"&gt;off&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="err"&gt;proxy_set_header&lt;/span&gt;   &lt;span class="err"&gt;Host&lt;/span&gt;              &lt;span class="err"&gt;$http_host&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="err"&gt;proxy_set_header&lt;/span&gt;   &lt;span class="err"&gt;X-Real-IP&lt;/span&gt;         &lt;span class="err"&gt;$remote_addr&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="err"&gt;proxy_set_header&lt;/span&gt;   &lt;span class="err"&gt;X-Forwarded-For&lt;/span&gt;   &lt;span class="err"&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Remember to replace rwallet.dero.cash with your own domain, and set the correct path for your ssl certificate and chain, then restart nginx service:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;/etc/init.d/nginx restart
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now let's visit &lt;a href="https://rwallet.dero.cash"&gt;https://rwallet.dero.cash&lt;/a&gt; you should see a "502 bad gateway" error.This means nginx is working as expected, the only problem is you haven't run dero daemon at port 20206 yet.&lt;/p&gt;
&lt;h2&gt;Run dero daemon&lt;/h2&gt;
&lt;h3&gt;install dero daemon&lt;/h3&gt;
&lt;p&gt;First let's go to &lt;a href="https://github.com/deroproject/derosuite/releases/latest"&gt;dero official github&lt;/a&gt; to download the latest binaries for dero daemon.
Since we're using ubuntu 16.04 64bit as our VPS os here, we should download linux_amd64 version, extract the tarball and copy the binaries to "/usr/local/bin" folder to make it global available.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;wget https://github.com/deroproject/derosuite/releases/download/v2.1.5/dero_linux_amd64_2.1.5-0.alpha.atlantis.10102018.tar.gz
tar xf dero_linux_amd64_2.1.5-0.alpha.atlantis.10102018.tar.gz
cp dero_linux_amd64/* /usr/local/bin
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Create data folder for dero&lt;/h3&gt;
&lt;p&gt;Let's make a folder for dero to store the chain data:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir /root/.dero
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;using name like ".dero" with a dot in the front will make the folder default hidden for 'ls' command and avoid stupid "rm -rf" command delete it.&lt;/p&gt;
&lt;h3&gt;Run dero daemon&lt;/h3&gt;
&lt;p&gt;Since we create a folder(/root/.dero) for blockchain data store, we should use this folder as data-dir every time we run dero daemon.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;derod-linux-amd64 --data-dir=/root/.dero
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;After this command you should see dero command line daemon start and a folder named "mainnet" created under "/root/.dero" folder.
This time when you visit https://rwallet.dero.cash, browser should return a "Hello world!" message, which means everything is done.&lt;/p&gt;
&lt;h3&gt;Make dero daemon autostart and run in background&lt;/h3&gt;
&lt;p&gt;Dero daemon is an interactive command line program, the most easy way to run it in background is using screen command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;screen -d -m derod-linux-amd64 --data-dir=/root/.dero
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now a new sub-shell has been created and dero daemon running in it, if you want to check the staus of this sub-shell, just type:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;screen -r
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;if there're more than one sub-shell running on your server, you might need to use &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;screen -ls
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;to list all running sub-shell and determine which one to enter.
if you want to leave the sub-shell, don't use ctrl+c which will end the daemon, use key "ctrl+a+d" and you shall return to main shell.&lt;/p&gt;
&lt;p&gt;To make the daemon auto start when we restart the server, place the command we run daemon in file "/etc/rc.local", edit this file so finally it may looks like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# rc.local
#
# This script is executed at the end of each multiuser runlevel.
# Make sure that the script will &amp;quot;exit 0&amp;quot; on success or any other
# value on error.
#
# In order to enable or disable this script just change the execution
# bits.
#
# By default this script does nothing.

/usr/bin/screen -d -m /usr/local/bin/derod-linux-amd64 --data-dir=/root/.dero

exit 0
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Note that this time we shall use full path for both screen and dero daemon.Restart the server and check https://rwallet.dero.cash to see if it works.&lt;/p&gt;
&lt;h2&gt;Using remote node&lt;/h2&gt;
&lt;p&gt;Currently dero GUI wallet doesn't support customized remote node, but we can use it for command line wallet, by using option --data-dir.&lt;/p&gt;
&lt;p&gt;Full command to use the remote node we just set up under mac os is:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dero-wallet-cli-darwin-amd64 --daemon-address=https://rwallet.dero.cash
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If your node is full synced, your wallet should be ready for use now.&lt;/p&gt;</content></entry><entry><title>GithubPages</title><link href="posts/blog_moved_to_github_pages_and_domain_config.html" rel="alternate"></link><published>2018-07-22T16:55:00+08:00</published><updated>2018-07-22T16:55:00+08:00</updated><author><name></name></author><id>tag:None,2018-07-22:posts/blog_moved_to_github_pages_and_domain_config.html</id><summary type="html">&lt;p&gt;pelicannginx&lt;/p&gt;</summary><content type="html">&lt;p&gt;pelicannginx&lt;/p&gt;
&lt;p&gt;github pagescustom domainhttpsblogcustom domain&lt;/p&gt;
&lt;p&gt;lifetyper.comlifetyper.comwww.lifetyper.comgithubpagesAgithubwwwhttps&lt;/p&gt;
&lt;p&gt;cloudflareDNSAGithublifetyper.comwwwpage rules.&lt;/p&gt;
&lt;p&gt;www.lifetyper.comlifetyper.com&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;url description:*www.lifetyper.com/*&lt;/p&gt;
&lt;p&gt;forwarding url:https://lifetyper.com/$2&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;$2*+&lt;/p&gt;
&lt;p&gt;www.lifetyper.comDNScloudflarewww.lifetyper.comCNAME@DNS&amp;amp;HTTP Proxied By Cloudflare&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;</content></entry><entry><title>X86</title><link href="posts/build_your_own_x86_router.html" rel="alternate"></link><published>2017-04-02T14:59:49+08:00</published><updated>2017-04-02T14:59:49+08:00</updated><author><name></name></author><id>tag:None,2017-04-02:posts/build_your_own_x86_router.html</id><summary type="html">&lt;p&gt;&lt;a href="https://code.google.com/archive/p/autoddvpn/"&gt;AutoddVPN&lt;/a&gt;400MhzAtheros1GWT-32020R7000,openwrtdd-wrt...&lt;/p&gt;</summary><content type="html">&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://code.google.com/archive/p/autoddvpn/"&gt;AutoddVPN&lt;/a&gt;400MhzAtheros1GWT-32020R7000openwrtdd-wrt&lt;/p&gt;
&lt;p&gt;EdgerouterXAPlinuxlinux&lt;/p&gt;
&lt;p&gt;ASICCPU300~400MhzIntelx86x86&lt;/p&gt;
&lt;p&gt;10002000~3000X8610001000ubntAP2000?&lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;h3&gt;&lt;/h3&gt;
&lt;p&gt;4RF45RS232J1900 CPU&lt;/p&gt;
&lt;p&gt;&lt;img alt="J1900" src="images/j1900_x86_router.png"&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;AP&lt;/li&gt;
&lt;li&gt;(15cmx13cmx3cm)&lt;/li&gt;
&lt;li&gt;RS232SSHIPtables&lt;/li&gt;
&lt;li&gt;J1900Bay Traillinux&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;:EIA-561RJ45109USB ConsoleEIA-561ConsoleTXRX&lt;/p&gt;
&lt;p&gt;DB9RJ45DB9USBDB9USBRJ45DB9TXRX&lt;/p&gt;
&lt;p&gt;&lt;img alt="RJ45DB9" src="images/rj45_to_db9_female.png"&gt;&lt;/p&gt;
&lt;h3&gt;RJ45DB9:&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;GND\TX\RX&lt;/li&gt;
&lt;li&gt;DB9GND5pin,PinDB9&lt;/li&gt;
&lt;li&gt;RJ45GNDRJ45GND&lt;/li&gt;
&lt;li&gt;DB9RX/TX2/3 PinRX/TXRXTXRXTXRXTX2/3Pin&lt;/li&gt;
&lt;li&gt;RJ45TX/RXGNDEI-561RX/TXLinuxconsole,/dev/ttyS0cat /dev/ttyS0RX/TXcat /dev/ttyS0&lt;/li&gt;
&lt;li&gt;DB9RJ45RX/TXPinTXRX&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;h3&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://vyos.io"&gt;Vyos&lt;/a&gt;EdgeRouterEdgeOSDebianVyosDebian Jessie&lt;/p&gt;
&lt;p&gt;test buildgrub menuold stabledeian squeezesqueezeLTS&lt;/p&gt;
&lt;p&gt;linuxDebian Jessie amd64debianshadowsocks serverubuntu&lt;/p&gt;
&lt;p&gt;HTPCVGAHTPCSSH-Server&lt;/p&gt;
&lt;p&gt;rootusersudorootwarning&lt;/p&gt;
&lt;h3&gt;Serial Console&lt;/h3&gt;
&lt;p&gt;Serial Console?...&lt;/p&gt;
&lt;p&gt;iptablessshserial consoleboot&lt;/p&gt;
&lt;p&gt;serial consolegrubconsole/etc/default/grub&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;GRUB_DEFAULT=0
GRUB_TIMEOUT=1
GRUB_DISTRIBUTOR=`lsb_release -i -s 2&amp;gt; /dev/null || echo Debian`
GRUB_CMDLINE_LINUX_DEFAULT=&amp;quot;&amp;quot;
GRUB_CMDLINE_LINUX=&amp;quot;console=tty0 console=ttyS0,115200&amp;quot;
GRUB_TERMINAL=serial
GRUB_SERIAL_COMMAND=&amp;quot;serial --speed=115200 --unit=0 --word=8 --parity=no --stop=1&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;GRUB_TIMEOUT&lt;/li&gt;
&lt;li&gt;GRUB_CM_LINE_LINUXconsoletty0()ttyS0()115200&lt;/li&gt;
&lt;li&gt;GRUB_SERIAL_COMMAND81&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;grub.cfgserial console&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;grub-mkconfig -o /boot/grub/grub.cfg
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;macterminalconsole&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;screen /dev/tty.usbXXXX 115200
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;XXXXUSB&lt;/p&gt;
&lt;h3&gt;WANBridge LAN&lt;/h3&gt;
&lt;p&gt;LAN1WANWANDHCPIPWANPPPOE&lt;/p&gt;
&lt;p&gt;LANWIFINASLAN2,LAN3,LAN4&lt;/p&gt;
&lt;p&gt;bridge-utils:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get install bridge-utils
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;/etc/network/interfaces&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;auto lo
iface lo inet loopback
auto eth0
allow-hotplug eth0
iface eth0 inet dhcp
auto br0
allow-hotplug br0
iface br0 inet static
        address 192.168.88.1
        network 192.168.88.0
        netmask 255.255.255.0
        broadcast 192.168.88.255
        bridge-ports eth1 eth2 eth3
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;192.168.88.1LANLAN&lt;/li&gt;
&lt;li&gt;192.168.88.024255.255.255.0&lt;/li&gt;
&lt;li&gt;192.168.88.2551&lt;/li&gt;
&lt;li&gt;eth1 eth2 eth3LAN2,LAN3,LAN4 bridgebr0&lt;/li&gt;
&lt;li&gt;autoallow-hotplug&lt;/li&gt;
&lt;li&gt;lo&lt;/li&gt;
&lt;li&gt;iface eth0 inet dhcpeth0LAN1WANDHCP&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Dnsmasq&lt;/h3&gt;
&lt;p&gt;DnsmasqdnsmasqDNS-ForwarderDHCP ServerDHCP Serveraptdnsmasq&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get install dnsmasq
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;dnsmasq:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@debian:~# dnsmasq -v
Dnsmasq version 2.72  Copyright (c) 2000-2014 Simon Kelley
Compile time options: IPv6 GNU-getopt DBus i18n IDN DHCP DHCPv6 no-Lua TFTP conntrack ipset auth DNSSEC loop-detect
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ipsetdnsmasq&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@debian:~# cat /etc/dnsmasq.conf 
interface=br0
dhcp-range=192.168.88.10,192.168.88.250,72h
conf-dir=/etc/dnsmasq.d/
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;interfacebr0dnsmasqbr0LANDNSDHCP&lt;/li&gt;
&lt;li&gt;dhcp-range72h72&lt;/li&gt;
&lt;li&gt;conf-dirdnsmasq&lt;/li&gt;
&lt;li&gt;DnsmasqDNS&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;/etc/init.d/dnsmasq restartdnsmasqLAN2~LAN4IP&lt;/p&gt;
&lt;h3&gt;DNS&lt;/h3&gt;
&lt;p&gt;dhcp clientDNS ServerDNS Server&lt;/p&gt;
&lt;p&gt;DnsmasqDNSLANDNSDNSDnsmasq127.0.0.1&lt;/p&gt;
&lt;p&gt;/etc/dhcp/dhclient.conf&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#prepend domain-name-servers 127.0.0.1;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;/etc/resolv.conf127.0.0.1DNSDnsmasqServer&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;request subnet-mask, broadcast-address, time-offset, routers,
        domain-name, domain-name-servers, host-name,
        netbios-name-servers, netbios-scope, interface-mtu;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;domain-name-serversdhcpdnsWANDHCP/etc/resolv.conf127.0.0.1DNS&lt;/p&gt;
&lt;h3&gt;&lt;/h3&gt;
&lt;p&gt;DNS()DHCPIPDNS...&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;routingLANLANWANWANLANNATiptables&lt;/p&gt;
&lt;h4&gt;IPtables&lt;/h4&gt;
&lt;p&gt;iptables&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;iptables -F
iptables -X
iptables -t nat -F
iptables -t nat -X
iptables -t mangle -F
iptables -t mangle -X
iptables -t raw -F
iptables -t raw -X
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;iptables -A FORWARD -i br0 -s 192.168.1.0/255.255.255.0 -j ACCEPT
iptables -A FORWARD -i eth0 -d 192.168.1.0/255.255.255.0 -j ACCEPT
iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
&lt;/pre&gt;&lt;/div&gt;


&lt;ol&gt;
&lt;li&gt;br0eth0&lt;/li&gt;
&lt;li&gt;POSTROUTINGeth0WANMASQUERADENAT&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;IPV4&lt;/h4&gt;
&lt;p&gt;linuxipv4ipv6iptables/etc/sysctl.conf:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#net.ipv4.conf.default.forwarding=1
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;IPV4:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;echo 1 &amp;gt; /proc/sys/net/ipv4/ip_forward
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;&lt;/h4&gt;
&lt;p&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;iptables -P INPUT DROP
iptables -P OUTPUT ACCEPT
iptables -P FORWARD DROP
iptables -I INPUT 1 -i lo -j ACCEPT
iptables -I INPUT 1 -i br0 -j ACCEPT
iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Iptables&lt;/h4&gt;
&lt;p&gt;iptables-saveiptables-restorerc.local:iptables-persistent&lt;/p&gt;
&lt;p&gt;apt-get install iptables-persistentipv4ipv6iptables-persistent&lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;iperf3Server:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;iperf -s -p 6000
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;macbook&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;biqins-MBP:lifetyper.com lifetyper$ iperf3 -c debian -p 6000
Connecting to host debian, port 6000
[  6] local 192.168.88.165 port 52954 connected to 192.168.88.1 port 6000
[ ID] Interval           Transfer     Bandwidth
[  6]   0.00-1.00   sec   112 MBytes   938 Mbits/sec                  
[  6]   1.00-2.00   sec   112 MBytes   939 Mbits/sec                  
[  6]   2.00-3.00   sec   112 MBytes   939 Mbits/sec                  
[  6]   3.00-4.00   sec   112 MBytes   939 Mbits/sec                  
[  6]   4.00-5.00   sec   112 MBytes   939 Mbits/sec                  
[  6]   5.00-6.00   sec   112 MBytes   939 Mbits/sec                  
[  6]   6.00-7.00   sec   112 MBytes   939 Mbits/sec                  
[  6]   7.00-8.00   sec   112 MBytes   939 Mbits/sec                  
[  6]   8.00-9.00   sec   112 MBytes   940 Mbits/sec                  
[  6]   9.00-10.00  sec   112 MBytes   939 Mbits/sec                  
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth
[  6]   0.00-10.00  sec  1.09 GBytes   939 Mbits/sec                  sender
[  6]   0.00-10.00  sec  1.09 GBytes   939 Mbits/sec                  receiver
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ubuntu:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;lifetyper@ubuntu:~$ iperf3 -c debian -p 6000
Connecting to host debian, port 6000
[  4] local 192.168.88.57 port 50410 connected to 192.168.88.1 port 6000
[ ID] Interval           Transfer     Bandwidth       Retr  Cwnd
[  4]   0.00-1.00   sec   107 MBytes   897 Mbits/sec    0    171 KBytes       
[  4]   1.00-2.00   sec   107 MBytes   896 Mbits/sec    0    188 KBytes       
[  4]   2.00-3.00   sec   107 MBytes   900 Mbits/sec    0    188 KBytes       
[  4]   3.00-4.00   sec   107 MBytes   896 Mbits/sec    0    205 KBytes       
[  4]   4.00-5.00   sec   107 MBytes   898 Mbits/sec    0    205 KBytes       
[  4]   5.00-6.00   sec   107 MBytes   899 Mbits/sec    0    205 KBytes       
[  4]   6.00-7.00   sec   107 MBytes   898 Mbits/sec    0    205 KBytes       
[  4]   7.00-8.00   sec   107 MBytes   901 Mbits/sec    0    205 KBytes       
[  4]   8.00-9.00   sec   107 MBytes   899 Mbits/sec    0    205 KBytes       
[  4]   9.00-10.00  sec   107 MBytes   900 Mbits/sec    0    205 KBytes       
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth       Retr
[  4]   0.00-10.00  sec  1.05 GBytes   898 Mbits/sec    0             sender
[  4]   0.00-10.00  sec  1.05 GBytes   898 Mbits/sec                  receiver

iperf Done.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ubuntuiperf3macbook:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;biqins-MBP:lifetyper.com lifetyper$ iperf3 -c ubuntu -p 7000
Connecting to host ubuntu, port 7000
[  6] local 192.168.88.165 port 53144 connected to 192.168.88.57 port 7000
[ ID] Interval           Transfer     Bandwidth
[  6]   0.00-1.00   sec   105 MBytes   878 Mbits/sec                  
[  6]   1.00-2.00   sec   104 MBytes   871 Mbits/sec                  
[  6]   2.00-3.00   sec   104 MBytes   875 Mbits/sec                  
[  6]   3.00-4.00   sec   105 MBytes   878 Mbits/sec                  
[  6]   4.00-5.00   sec   105 MBytes   883 Mbits/sec                  
[  6]   5.00-6.00   sec   106 MBytes   889 Mbits/sec                  
[  6]   6.00-7.00   sec   104 MBytes   875 Mbits/sec                  
[  6]   7.00-8.00   sec   106 MBytes   885 Mbits/sec                  
[  6]   8.00-9.00   sec   106 MBytes   889 Mbits/sec                  
[  6]   9.00-10.00  sec   106 MBytes   892 Mbits/sec                  
- - - - - - - - - - - - - - - - - - - - - - - - -
[ ID] Interval           Transfer     Bandwidth
[  6]   0.00-10.00  sec  1.03 GBytes   882 Mbits/sec                  sender
[  6]   0.00-10.00  sec  1.03 GBytes   881 Mbits/sec                  receiver

iperf Done.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;882Mbps&lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;root@debian:/home/lifetyper# df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1        28G  2.0G   25G   8% /
udev             10M     0   10M   0% /dev
tmpfs           381M  5.2M  376M   2% /run
tmpfs           951M     0  951M   0% /dev/shm
tmpfs           5.0M     0  5.0M   0% /run/lock
tmpfs           951M     0  951M   0% /sys/fs/cgroup
root@debian:/home/lifetyper# free -m
             total       used       free     shared    buffers     cached
Mem:          1900        139       1761          5         10         52
-/+ buffers/cache:         76       1824
Swap:         1285          0       1285
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;2G139MCPUtopCPUtopshadowsocks2Gedgerouter lite 2GU&lt;/p&gt;
&lt;h3&gt;()&lt;/h3&gt;
&lt;h4&gt;&lt;/h4&gt;
&lt;p&gt;sship
/etc/hostsdnsmasqdnsmasqLAN/etc/hosts:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;192.168.88.1        debian
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;dnsmasqssh user@debian&lt;/p&gt;
&lt;h4&gt;sudo&lt;/h4&gt;
&lt;p&gt;rootsudosudosudoroot&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;apt-get install sudo
adduser your_user_name sudo
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;sudosudo&lt;code&gt;sudo bash&lt;/code&gt;root&lt;/p&gt;</content></entry><entry><title>Initial</title><link href="posts/blog_initial.html" rel="alternate"></link><published>2017-03-03T14:32:12+08:00</published><updated>2017-03-03T14:32:12+08:00</updated><author><name></name></author><id>tag:None,2017-03-03:posts/blog_initial.html</id><summary type="html">&lt;p&gt;blogphpmysqlnginxlatexpelican...&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;/p&gt;
&lt;p&gt;blogphpmysqlnginxlatex&lt;a href="https://blog.getpelican.com/"&gt;pelican&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;lifetyper.com10,lifetype.net&lt;/p&gt;
&lt;p&gt;lifetypehipeoplewinman&lt;a href="http://forum.lifetype.org.cn/"&gt;lifetype&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;VickYee&lt;/p&gt;
&lt;p&gt;ID&lt;/p&gt;
&lt;p&gt;blogblogweb2.05678&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;blogblog&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;blogger&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;</content></entry></feed>